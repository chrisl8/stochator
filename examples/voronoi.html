<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <div id="container">
        <svg id="map"></svg>
    </div>
    <div id="mask">
        <div id="debug"></div>
    </div>
    <script type="text/javascript" src="lib/d3.js"></script>
    <script type="text/javascript" src="../build/stochator.js"></script>
    <script type="text/javascript" src="script/util.js"></script>
    <script type="text/javascript" src="script/biomes.js"></script>
    <script type="text/javascript" src="script/cell-clusters.js"></script>
    <script type="text/javascript" src="script/continental-plates.js"></script>
    <script type="text/javascript" src="script/cells.js"></script>
    <script type="text/javascript" src="script/cell-map.js"></script>
    <script type="text/javascript">

        console.profile('createMap');
        window.map = new CellMap(1000);
        console.profileEnd('createMap');

        window.map.draw();
        window.map.logData();

        document.addEventListener('keydown', function(evt) {
            if (evt.keyCode == 82 && !evt.metaKey) {
                console.profile('recreateMap');
                window.map.reinit();
                console.profileEnd('recreateMap');

                window.map.draw();
                window.map.logData();
            }
        });

    </script>
  </body>
</html>
